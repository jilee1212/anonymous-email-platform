prd.md: 영구 익명 이메일 플랫폼 (2차 개발)
1. 목표 (Objective)
기본적인 이메일 생성 및 받은편지함 기능 구현을 넘어, 플랫폼의 안정성, 보안, 사용자 편의성 및 확장성을 확보하는 것을 목표로 합니다. 신뢰할 수 있는 이메일 서비스로서의 기능을 완벽하게 갖추고, 지속적인 운영이 가능한 견고한 시스템을 구축합니다.

2. 해결하고자 하는 문제 (Problem)
기존 MVP는 핵심 기능에 집중했지만, 실제 운영 환경에서 필수적인 이메일 수신 안정성, 보안 위협, 관리 시스템, 그리고 사용자 편의 기능들이 부족합니다. 이러한 문제를 해결하여 스팸 및 악성코드로부터 안전하고, 장기적인 사용에 불편함이 없는 플랫폼을 제공해야 합니다.

3. 핵심 기능 및 요구사항 (Key Features & Requirements)
3.1. 이메일 처리 및 저장 (Email Processing & Storage)
이메일 수신 시스템:

SMTP 서버를 구축하고, 메일이 올바르게 수신되는지 실시간 모니터링합니다.

수신된 이메일의 헤더, 본문, 첨부파일을 정확하게 파싱하여 데이터베이스에 저장합니다.

HTML 본문과 일반 텍스트 본문을 모두 저장하여 사용자에게 최적화된 형식으로 보여줍니다.

이메일 데이터 관리:

이메일 내용(제목, 발신자 등)을 기반으로 한 검색 및 필터링 기능을 구현합니다.

수신된 이메일을 장기 보관하는 아카이빙 정책을 수립합니다.

3.2. 보안 및 인증 (Security & Authentication)
발신자 인증 및 스팸 필터링:

SPF, DKIM, DMARC 기록을 활용하여 발신자의 신원을 검증하고, 스팸성 메일을 필터링합니다.

수신된 이메일의 첨부파일을 자동으로 스캔하여 악성코드를 탐지하고 차단합니다.

접근 권한 관리:

접근 키를 통한 받은편지함 접속 시, 요청에 대한 로깅 및 이상 행위를 감지하는 시스템을 구축합니다.

SSL/TLS 인증서:

플랫폼의 모든 통신은 SSL/TLS로 암호화하여 보안을 강화합니다.

3.3. 모니터링 및 관리 (Monitoring & Management)
시스템 상태 모니터링:

서버 상태, 이메일 수신량, API 요청량 등을 실시간으로 모니터링하고, 이상 발생 시 알림을 받습니다.

로그 및 오류 관리:

모든 시스템 활동 및 오류를 기록하고, 로그 분석을 통해 문제를 빠르게 해결합니다.

백업 및 복구 시스템:

데이터베이스와 중요한 시스템 파일을 정기적으로 백업하고, 재해 발생 시 복구할 수 있는 절차를 마련합니다.

3.4. 사용자 기능 (User Features)
이메일 관리:

사용자가 받은 이메일을 영구적으로 삭제하거나 복원할 수 있는 기능을 제공합니다.

특정 조건에 따라 이메일을 자동 전달하는 규칙을 설정할 수 있도록 합니다.

사용자 설정:

사용자가 자신의 이메일 주소에 대한 설정을 관리할 수 있는 페이지를 구축합니다.

3.5. API 확장 및 문서화 (API Expansion & Documentation)
API 확장:

플랫폼 기능을 외부에 연동할 수 있도록 이메일 전송, 검색, 사용자 관리 등의 API를 추가로 개발합니다.

이메일 수신 시 외부 시스템에 알림을 보내는 웹훅(Webhook) 시스템을 구현합니다.

문서화:

개발자를 위한 API 문서(Swagger/OpenAPI), 사용자 가이드, 시스템 배포 가이드를 작성합니다.

3.6. 인프라 및 품질 보증 (Infrastructure & QA)
인프라:

서비스 안정성을 위해 Docker 컨테이너화를 적용하고, 로드 밸런싱을 통해 트래픽을 분산시킵니다.

데이터베이스 클러스터링을 구성하여 데이터 가용성을 높입니다.

테스트:

단위 테스트, 통합 테스트, 성능 테스트, 보안 테스트를 체계적으로 수행하여 코드 및 시스템의 품질을 보장합니다.